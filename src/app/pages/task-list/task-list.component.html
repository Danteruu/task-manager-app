<div class="content">
  <div class="main-container">
    <div class="sidebar has-background-white">
      <h1 class="title has-text-primary">
        LISTS
      </h1>
      <div class="list-menu">
        <div [routerLink]="['/tasklist', list.id]" routerLinkActive="active" class="list-menu-item"
          *ngFor="let list of taskLists">
          <div class="text">
            {{list.name}}
          </div>
          <button class="button has-icon is-primary" (click)="editList(list, $event)">
            <fa-icon class="button-icon" [icon]="faPen"></fa-icon>
          </button>
        </div>
      </div>
      <button class="button is-primary is-outlined" (click)="addList()">
        <fa-icon class="button-icon" [icon]="faPlus"></fa-icon>
        New list
      </button>
    </div>
    <div class="tasks-container has-background-light">
      <h1 class="title has-text-primary">
        TASKS
      </h1>
      <div class="task-list">
        <div class="task-list-item" (click)="toggleComplete(task)"
          [ngClass]="task.completed ? 'completed' : ''" 
          *ngFor="let task of tasks">
          <div class="text">{{task.text}}</div>
          <button class="button has-icon is-primary" (mousedown)="editTask(task, $event)">
            <fa-icon class="button-icon" [icon]="faPen"></fa-icon>
          </button>
          <button class="button has-icon is-danger" (mousedown)="deleteTask(task.id, $event)">
            <fa-icon class="button-icon" [icon]="faTrashAlt"></fa-icon>
          </button>
        </div>
        <ng-container *ngIf="!tasks.length && activeListId != 0">
          <h5 class="mt-3">No tasks to display. Go ahead and add one!</h5>
        </ng-container>
        <ng-container *ngIf="activeListId == 0">
          <h5 class="mt-3">Select list from menu</h5>
        </ng-container>
      </div>
      <button class="button is-primary is-fab is-medium" *ngIf="activeListId != 0" (click)="addTask()">
        <fa-icon class="button-icon" [icon]="faPlus"></fa-icon>
      </button>
    </div>
  </div>
</div>

<!-- SweetAlerts -->
<swal></swal>